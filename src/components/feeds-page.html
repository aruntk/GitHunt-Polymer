<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../bower_components/morph-animation/morph-animation.html">

<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="feed-item.html">

<dom-module id="feeds-page">
  <template>
    <style>
#drawerToolbar{
  background: white;
}
.container {
  padding: 40px;
}
#addFab {
  position: fixed;
  z-index: 102;
  bottom: 30px;
  right: 30px;
}
#addDialog {
  border-top: 3px solid var(--accent-color);
}
.dialog-contents {
  min-height: 100px;
  min-width: 300px;
}
    </style>
    <paper-drawer-panel>
      <div drawer> 
        <paper-toolbar id="drawerToolbar">

        </paper-toolbar>
        <paper-menu selected="0">
          <paper-icon-item>
            <iron-icon icon="today" item-icon>
            </iron-icon>
            <paper-item-body>
              New
            </paper-item-body>
          </paper-icon-item>
          <paper-icon-item>
            <iron-icon icon="trending-up" item-icon>
            </iron-icon>
            <paper-item-body>
              Hot
            </paper-item-body>
          </paper-icon-item>
        </paper-menu>
      </div>
      <paper-header-panel mode="standard" class="fit" main>
        <paper-toolbar>
          <div class="title" title>GitHunt-Polymer</div>
          <paper-button on-tap="login">Login</paper-button>
        </paper-toolbar>
        <div class="vertical layout centre container">
          <div class="vertical layout center">
            <paper-spinner active="{{loading}}"></paper-spinner>
          </div>
          <template is="dom-repeat" items="{{feed}}" as="entry">
            <feed-item entry="{{entry}}"></feed-item>
          </template>
          <div class="vertical layout center">
            <paper-button on-tap="loadMore">
              Load More
            </paper-button>
          </div>
          <!-- morphThis method and morph-target attribute comes from https://github.com/aruntk/morph-animation.  -->
          <paper-fab icon="add"
                     id="addFab"
                     disabled="{{!currentUser}}"
                     on-tap="morphThis"
                     morph-target="#addDialog">
          </paper-fab>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>
    <paper-dialog id="addDialog">
      <h2>Submit a Respository</h2>
      <paper-dialog-scrollable>
        <div class="dialog-contents">
          <paper-input label="Respository Name"
                       id="repoName"
                       auto-validate
                       pattern=".*\/.*"
                       error-message="Error in repo name. correct - org_name/repo_name">
          </paper-input>
        </div>
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button dialog-dismiss>Cancel</paper-button>
        <paper-button dialog-confirm autofocus on-tap="addNew">Accept</paper-button>
      </div>
    </paper-dialog>
  </template>
</dom-module>
